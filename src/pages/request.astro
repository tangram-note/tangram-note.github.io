---
import Layout from '~/layouts/PageLayout.astro';
import { getPermalink } from '~/utils/permalinks';
import Hero from '~/components/widgets/Hero.astro';
import Stats from '~/components/widgets/Stats.astro';
import Steps from '~/components/widgets/Steps.astro';
import Features2 from '~/components/widgets/Features2.astro';
import FAQs from '~/components/widgets/FAQs.astro';
import CallToAction from '~/components/widgets/CallToAction.astro';

const metadata = {
  title: 'Tangram Note - 申请成为早期用户',
  ignoreTitleTemplate: true,
};

const featureLinks = getPermalink('/#features');
---

<Layout metadata={metadata}>
  <!-- Hero Section -->
  <Hero
    actions={[
      {
        variant: 'primary',
        text: '申请成为早期用户',
        href: '#application',
        icon: 'tabler:user-heart',
      },
      {
        text: '探索产品功能',
        href: featureLinks,
      },
    ]}
  >
    <Fragment slot="title">
      申请成为 Tangram Note 早期用户
    </Fragment>
    <Fragment slot="subtitle">
      诚邀您成为首批早期种子用户，与开发者共同塑造思维笔记工具的进化方向
    </Fragment>
  </Hero>

  <!-- Stats Section (Waitlist Counter) 
  <Stats
    stats={[
      { title: '当前申请者', amount: '1,289' },
      { title: '已获得邀请码', amount: '427' },
      { title: '预计等待时间(天)', amount: '7-14' },
    ]}
  />-->

  <!-- Steps Section (申请流程) -->
  <Steps
    id="process"
    title="成为早期用户的简单步骤"
    subtitle="每位参与者都是宝贵的声音，我们将与您密切协作打造理想工具"
    items={[
      {
        title: '提交申请',
        description: '填写简单的申请表单，让我们了解您的基本信息和需求场景，帮助我们评估适合您的测试方案。',
        icon: 'tabler:edit',
      },
      {
        title: '获得邀请码',
        description: '审核通过后，您将收到专属邀请码和下载链接。我们定期分批发放资格，确保内测体验质量。',
        icon: 'tabler:key',
      },
      {
        title: '加入测试圈',
        description: '进入专属Discord社区，与开发团队直接交流，参与功能讨论，获取最新测试版本。',
        icon: 'tabler:users',
      },
      {
        title: '影响产品走向',
        description: '您的声音将直接影响产品设计路线，帮助我们打磨更符合思考习惯的工具。',
        icon: 'tabler:star',
      },
    ]}
  />

  <!-- Application Form Section -->
  <section id="application" class="relative py-16">
    <div class="absolute inset-0 bg-blue-50 dark:bg-[#181C2A]"></div>
    <div class="relative max-w-2xl mx-auto bg-white dark:bg-[#23263A] rounded-lg shadow p-8 border border-gray-100 dark:border-[#23263A]">
      <iframe class="airtable-embed" src="https://airtable.com/embed/appJDxwmWpDDJ9xTv/pagsKYkvJ4Q8CVoHt/form" frameborder="0" onmousewheel="" width="100%" height="1000" style="background: transparent; border: 0px solid #ccc;"></iframe>
    </div>
  </section>

  <!-- Value Section (核心价值) -->
  <Features2
    id="values"
    title="早期用户的独特价值"
    subtitle="成为早期用户，您不只是体验者，更是产品的共同创造者"
    columns={4}
    items={[
      {
        title: '早期接触权',
        icon: 'tabler:star',
        description: '抢先体验正在开发中的新功能，比公众提前数月使用最新创新工具。',
      },
      {
        title: '开发者直达',
        icon: 'tabler:message',
        description: '与核心开发团队直接沟通，您的想法和建议可能回影响功能设计优先级。',
      },
      {
        title: '终身折扣',
        icon: 'tabler:gift',
        description: '所有早期用户在正式版发布时可享终身会员特别折扣（最高70% OFF）。',
      },
      {
        title: '专属学习资料',
        icon: 'tabler:book',
        description: '获取未公开的功能演示视频和教程资源，帮助你更好地掌握使用。',
      },
    ]}
  />

  <!-- FAQs Section -->
  <FAQs
    id="faq"
    title="常见问题（FAQ）"
    subtitle="为您解答关于早期用户计划的关键问题"
    items={[
      {
        title: '早期用户申请的基本要求是什么？',
        description: '我们欢迎各种类型的知识工作者参与测试，无论您是学术研究者、内容创作者、产品设计师还是项目管理专家。唯一的要求是您每周能有5小时左右使用测试版本并提供反馈。我们会优先选择有笔记工具经验且能清晰表达需求的申请者。',
      },
      {
        title: '提交申请后多久能获得访问权限？',
        description: '我们每周审核并发送邀请一次。根据当前排队情况（如计数器所示），大多数申请者在提交后7-14天内收到通知。我们建议加入等待名单后留意您的注册邮箱，包括垃圾邮件文件夹。',
      },
      {
        title: '测试版本是否支持所有功能？',
        description: '早期用户版本包含Tangram Note的核心功能集：结构化Stack、线性Page、自由画布Board和数据集合Collection。同步功能在测试期间可能有一定限制。我们每周会发布更新添加新功能或改进。早期用户可以获得所有新版本更新。',
      },
      {
        title: '早期用户数据在正式版发布时会保留吗？',
        description: '是的，我们将确保您的早期用户数据能无缝迁移到正式版。测试期间我们会逐步改进数据结构和导入导出功能，在发布前确保您的工作可以平稳过渡。',
      },
      {
        title: '测试过程中遇到问题如何反馈？',
        description: '早期用户会加入专用Discord频道进行实时交流。您可以随时报告问题、分享建议或参与讨论。我们团队在工作日每天会查看并回应社区。对于关键错误报告，我们会优先处理。',
      },
    ]}
  />

  <!-- Call To Action Section -->
  <CallToAction
    actions={[
      {
        variant: 'primary',
        text: '立即申请',
        href: '#application',
        icon: 'tabler:user-heart',
      },
    ]}
  >
    <Fragment slot="title">
      与你同思，与你共建
    </Fragment>
    <Fragment slot="subtitle">
      我们希望做出最优秀的个人知识库软件，诚邀您成为我们的同行者，与开发者团队共同塑造思维笔记工具。
    </Fragment>
  </CallToAction>
</Layout>
